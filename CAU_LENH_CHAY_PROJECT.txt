================================================================================
                    C√ÅC C√ÇU L·ªÜNH CH·∫†Y PROJECT
================================================================================

üìå N·∫æU ƒê√É C√ì DATABASE, CASSO, WEBHOOK S·∫¥N T·ª™ TR∆Ø·ªöC
(Clone project v·ªÅ m√°y m·ªõi ho·∫∑c setup l·∫°i)

================================================================================
1. C√ÄI ƒê·∫∂T & SETUP (Ch·ªâ ch·∫°y 1 l·∫ßn ƒë·∫ßu)
================================================================================

# B∆∞·ªõc 1: C√†i dependencies
npm install

# B∆∞·ªõc 2: T·∫°o file .env (copy t·ª´ backup)
# M·ªü file ENV_CONFIG_BACKUP.txt -> Copy to√†n b·ªô -> T·∫°o file .env -> Paste v√†o

# B∆∞·ªõc 3: Generate Prisma Client
npx dotenv -e .env -- npx prisma generate

# B∆∞·ªõc 4: Pull schema t·ª´ database
npx dotenv -e .env -- npx prisma db pull

# B∆∞·ªõc 5: Generate l·∫°i Prisma Client
npx dotenv -e .env -- npx prisma generate


================================================================================
2. CH·∫†Y PROJECT (M·ªói l·∫ßn l√†m vi·ªác)
================================================================================

npm run dev

‚Üí M·ªü tr√¨nh duy·ªát: http://localhost:3000


================================================================================
3. C·∫§U H√åNH CASSO WEBHOOK (Ch·ªâ l√†m 1 l·∫ßn)
================================================================================

# B∆∞·ªõc 1: Ch·∫°y ngrok (Terminal m·ªõi)
ngrok http 3000

# B∆∞·ªõc 2: Copy URL t·ª´ ngrok (v√≠ d·ª•: https://abc123.ngrok-free.app)

# B∆∞·ªõc 3: V√†o Casso.vn
- ƒêƒÉng nh·∫≠p: https://casso.vn
- V√†o: C√†i ƒë·∫∑t ‚Üí Webhook
- Webhook URL: https://abc123.ngrok-free.app/api/webhook/casso
- Secure token: 3lXYi6CY1N63XAzbDXjfF7YKqD70PZ4Fr0ZQGUNOgV6k592OtGALwT1vaKos5I9V
- Ch·ªçn: ‚úÖ Nh·∫≠n ti·ªÅn v√†o t√†i kho·∫£n
- Nh·∫•n: L∆∞u


================================================================================
4. C√ÅC L·ªÜNH H·ªÆU √çCH
================================================================================

# Xem database v·ªõi Prisma Studio
npx dotenv -e .env -- npx prisma studio

# Sync schema t·ª´ database
npx dotenv -e .env -- npx prisma db pull
npx dotenv -e .env -- npx prisma generate

# Build production
npm run build
npm start


================================================================================
5. KI·ªÇM TRA WEBHOOK
================================================================================

# Test webhook endpoint
curl -X GET "http://localhost:3000/api/webhook/casso" \
  -H "Authorization: Apikey 3lXYi6CY1N63XAzbDXjfF7YKqD70PZ4Fr0ZQGUNOgV6k592OtGALwT1vaKos5I9V"

# K·∫øt qu·∫£ mong ƒë·ª£i:
{"message":"Casso Webhook endpoint is working","authorized":true,...}


================================================================================
6. TH√îNG TIN QUAN TR·ªåNG
================================================================================

üì¶ Database:     ƒê√£ c√≥ s·∫µn (Prisma PostgreSQL)
üí≥ Casso:        API Key ƒë√£ c√≥ trong .env
üîó Webhook URL:  C·∫ßn update khi deploy production
üìß Email:        lequangminh951@gmail.com (App Password ƒë√£ c√≥)
üè¶ Ng√¢n h√†ng:    LE QUANG MINH - 0908724146 (MBBank)


================================================================================
7. T√ìM T·∫ÆT SI√äU NHANH (ƒê√£ setup r·ªìi)
================================================================================

npm run dev

‚Üí Xong! M·ªü http://localhost:3000


================================================================================
                            H·∫æT
================================================================================
Li√™n h·ªá: vocucphuong0018@gmail.com | 02519999975
